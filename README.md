# 虚拟化与云计算技术——云计算概论
- 课程代码：CSE33205C
- 授课教师：尤国华
- E-mail：yough@mail.buct.edu.cn


## 云计算概论 | 内容提示
如何获取海量的存储和计算资源？如何在互联网这个无所不含的平台上更经济地运营服务？如何才能使互联网服务更加敏捷、更按需所用？云计算是解决这些问题的关键。本讲将解释云计算的确切含义与分类，分析云计算的优势与其带来的变革，并阐述云计算的来龙去脉。


## 云计算概论 | 提纲目录
- 云计算的概念
- 云计算产生的原动力
- 基础设施层
- 平台层
- 应用层
- 小结


# 一、云计算的概念
## 1. 云计算的发展史
- 1961年，约翰·麦卡锡（1971年图灵奖获得者）第一次提出“Utility Computing”的概念
- 计算力变成一种公共资源，像水、电、煤气一样，被千家万户使用	
- 1996年，Compaq首次提及“云计算”一词
- 1990年代，Salesforce.com通过租赁式网页CRM软件服务，开创了SaaS时代
- 2002年，亚马逊启用了Amazon Web Services（AWS）平台，将计算能力作为云服务售卖
- 2004年，谷歌发表了关于GFS（分布式文件系统）、MapReduce（并行计算）和Bigtable（分布式数据库）的三篇文章，奠定了云计算的发展方向
- 2008年，谷歌发布自己的云业务Google App Engine (GAE)，允许开发者开发Web应用并部署在Google的基础设施之上
- 同年，微软发布云计算战略和Windows Azure Platform平台，将技术和服务线上化
- 2008年，阿里巴巴开始建设阿里云
- 2009年，腾讯开始建设腾讯云
- 之后，青云、金山云、天翼云、华为云、京东云、七牛云…


## 2. 云计算的定义
- 云计算：软、硬资源被封装为服务，用户可以通过互联网按需访问和使用的一种计算方式
- 云计算本质是互联网的电脑化：互联网由通信工具变为超级计算机
- 华为MatePad Pro的云电脑
- 金山的网页版WPS
- 数据中心云化

（图示：应用1、应用2、应用3；云应用1、云应用2、云应用3；应用程序；应用层；平台层（运行时、中间件、数据库）；虚拟机、容器、进程、线程；云操作系统；操作系统；虚拟化；驱动；计算资源（CPU、内存）、网络资源（网络、设备）、存储资源（硬盘）；若干数据中心；物理机 → 标注“云计算-> 云计算机”）

- 云计算：拥有一个或多个数据中心，通过云操作系统分配调度数据中心的软、硬件资源，可以开发、测试、运行云应用的超级计算机


## 3. 云计算的特征
- 超大规模
  - “云”具有相当的规模，规模越大优势越大
  - Amazon、Google云、微软Azure、阿里云等均拥有几百万台服务器
  - 企业私有云一般拥有数百上千台服务器
  - “云”能赋予用户前所未有的计算能力	

- 虚拟化
  - 虚拟化便于资源划分，使服务化成为可能
  - 基础设施虚拟化使基础设施作为服务提供给用户
  - 平台虚拟化使开发、运维平台作为服务提供给用户
  - 软件虚拟化使应用软件作为服务提供给用户

- 高可靠性
  - “云”使用了数据多副本容错、计算节点同构可互换等措施来保障服务的高可靠性，使用云计算比使用本地计算机可靠

- 通用性
  - 云计算不针对特定的应用，在“云”的支撑下可以构造出千变万化的应用，同一个“云”可以同时支撑不同的应用运行

- 高可扩展性
  - “云”的规模可以动态伸缩，满足应用和用户规模增长的需要

- 按需服务
  - “云”是一个庞大的资源池，按需购买，云可以像自来水，电，煤气那样计费，使用时付费，不使用不付费

- 价格低廉
  - 由于“云”的特殊容错措施可以采用极其廉价的节点来构成云，“云”的自动化集中式管理降低管理成本，“云”的通用性使资源的利用率大幅提升，因此用户可以充分享受低成本优势

- 更省事
  - 省去本地服务器安装、部署的一系列工作
  - 省去专业的服务器运维工作
  - 省去软件版本号升级、数据迁移、跨版本升级等问题
  - 省去软件问题无法得到解决的困扰

- 更安全
  - 避免病毒入侵导致的服务器瘫痪及数据丢失
  - 避免遭受DDOS攻击，服务器被迫关闭
  - 避免因访问量爆发性上升，主机流量超标，服务器无法访问
  - 避免因周边自然环境威胁，使服务器存在受损风险
  - 避免因停电停网影响软件正常使用
  - 避免硬件服务器损坏，导致数据丢失

- 潜在的危险性
  - 云计算服务除了提供计算服务外，还提供了存储服务
  - 但是云计算服务当前多数垄断在私人机构（企业）手中，而他们仅仅能够提供商业信用
  - 政府机构、商业机构对于选择云计算服务应保持足够的警惕
  - 云计算中的数据对于数据所有者以外的其他用户是保密的，但是对于提供云计算的商业机构而言确实毫无秘密可言
  - 一旦大规模使用私人机构提供的云计算服务，无论其技术优势有多强，都不可避免地让这些私人机构以“数据（信息）”的重要性挟制整个社会


## 3. 云计算的分类
- 按服务类型分类，云计算可以分为以下三类：
  - 基础设施云：为用户提供计算、存储等基础设施服务
  - 平台云：为用户提供一个开发和运营应用的托管平台
  - 应用云：为用户提供可以直接使用的应用

- 按云计算提供者与使用者的所属关系为划分标准可将云计算分为三类：
  - 公有云：是由若干企业和用户共享使用的云环境，如阿里云、腾讯云等
  - 私有云：是由某个企业独立构建和使用的云环境，如校内云
  - 混合云：混合云是指公有云和私有云的混合


## 4. 相关概念
- 并行计算（Parallel Computing)
  - 并行计算是将一个科学计算问题分解为多个小的计算任务，并将这些小任务在并行计算机上同时执行，利用并行处理的方式达到快速解决复杂运算问题的目的
  - 例如多核计算，cluster计算都属于并行计算

- 高性能计算（High Performance Computing)
  - 计算能力强
  - 数据量大
  - 计算问题复杂

- 网格计算（Grid Computing）
  - 网格计算是分布式计算的一种，由一群松散耦合的计算机组成的一个超级虚拟计算机，常用来执行一些大型任务
  - 研究如何把一个需要非常巨大的计算能力才能解决的问题分成许多小的部分，然后把这些部分分配给许多计算机进行处理，最后把这些计算结果综合起来得到最终结果
  - 寻找外星人项目 SETI@home

- 效用计算（Utility Computing)
  - 效用计算是一种提供服务的模型，在这个模型里服务提供商提供客户需要的计算资源和基础设施，并根据应用所占用的资源情况进行计费
  - 效用计算理念发展的进一步延伸就是云计算技术，该技术正在逐步成为技术发展的主流

- 边缘计算（Edge Computing)、雾计算（Fog Computing)
  - 边缘计算将部分存储和计算资源移出中央数据中心，更靠近数据源本身
  - 雾计算将计算和存储资源置于数据“内部”
  - 如智能摄像头，智能驾驶，传感器网络


## 云计算概论 | 提纲目录
- 云计算的概念
- 云计算产生的原动力
- 基础设施层
- 平台层
- 应用层  
- 小结


# 二、云计算产生的原动力
- 自从1961年约翰·麦卡锡提出计算机能力应如同水和电一样被供给世界，计算机科学家就向着这个目标不断努力探索，先后提出并行计算、网格计算、高性能计算，集群计算等计算模式，经过多年的挫折与失败，却始终没有一个成功的方案让工业界与市场接受
- 云计算的出现正在改变这一切，云计算让人们了解到，原来计算、存储和应用也可以像水一样地去获得

在技术层面，云计算之所以在今天产生，是由于六方面原动力共同作用的结果

（图示：Web技术、互联网技术、软件即服务(SaaS)、面向服务架构(SOA)、虚拟化技术、芯片及硬件技术）


## 1. 芯片与硬件技术
- 芯片与硬件技术的提升为数据中心的建造创造了便利条件
- 伴随着速度的不断提升，硬件价格也在不断地下降
- 以前，建设大规模数据中心所需的巨大资金投入，只有极少数企业或政府机构能够负担得起
- 现在，由于硬件性能的提升和价格的下降，建造大型数据中心已经不再是不可实现的目标
- 这就为云提供商构建公有云，为企业机构用户构建私有云创造了可能


## 2. 资源虚拟化
- 虚拟化技术对计算资源、存储资源和网络资源进行了抽象，便于资源的统一管理和分配，使大规模数据中心成为现实 
- 虚拟化技术提高了设备的利用率，能耗更低，降低了数据中心的建设和使用成本
- 虚拟化技术便于系统和应用的快速和自动化部署，实现了云计算的可伸缩性
- 虚拟机的易创建性使应用和服务可以拥有更多的虚拟机来进行容错和灾难恢复，从而提高了自身的可靠性和可用性


## 3. SOA与微服务
- 面向服务架构（Service Oriented Architecture, SOA)是一种IT架构，用户的业务可以被直接转换成为通过网络访问的一组相互连接的服务模块
- 面向服务架构可以最大程度地复用软件服务模块
- 在SOA模型中，所有的功能都被定义成了独立的服务，所有服务都通过企业服务总线（ESB）连接
- SOA的思想引领了web服务技术的发展，使得开放式的数据模型和通信标准越来越广泛地为人们使用，更大程度上地促进了信息系统的互联
- 微服务就是SOA的具体实现，微服务常用容器打包使用

（图示：微服务架构发展历程 → 包含“单体架构”“垂直架构”“SOA架构”“微服务架构”四个阶段的说明：
1. 单体架构：简单单体模式是最简单的架构风格，所有的代码全都在一个项目中。这样研发团队的任何人都可以随时修改任意的一段代码，或者增加一些新的代码。
2. 垂直架构：分层是一个典型的对复杂系统(不仅仅是软件)进行结构化思考和抽象聚合的通用性办法，也符合金字塔原理。MVC是一个非常常见的3层(3-Tier)结构架构模式
3. 面向服务架构(SOA)：面向服务架构(SOA)是一种建设企业IT生态系统的架构指导思想。SOA的关注点是服务。服务最基本的业务功能单元, 由平台中立性的接口契约来定义。
4. 微服务架构：微服务架构风格,以实现一组微服务的方式来开发一个独立的应用系统的方法。其中每个小微服务都运行在自己的进程中,一般采用HTTP资源API这样轻量的机制相互通信。）


## 4. 软件即服务
- 软件即服务是一种通过互联网提供软件的服务模式，用户不再一次性购买软件，而改用向服务提供商租用软件，且无需对软件进行维护，服务提供商会全权管理和维护软件
- 其核心理念是将软件直接提供为服务，从而改变目前常见的软件销售并安装在客户自己的计算机上的这种消费及使用模型
- 软件即服务技术是云计算的先行者，比如软件的远程使用、按需付费模式，然而软件即服务提供商一般仅仅提供某一种特定的应用软件
- 云计算就是把这种单一的模式更广泛推广的技术，其采用的虚拟化等技术使得普通软件也可以成为服务


## 5. 互联网技术
- 近二十年来，互联网的带宽和可靠性都得到了大幅提升，网络的触角所涉及的区域也越来越广
- 目前，信息技术的发展使得世界上大部分的业务都离不开互联网的支持
- 互联网成为了让世界运转不可缺少的平台
- 网上纷繁复杂的业务对于互联网上资源的稳定性、可靠性、安全性、可用性、灵活性、可管理性、自动化程度甚至节能环保等特性都提出了苛刻的要求，这一切都在不断推动着互联网技术的发展
- 正是由于互联网的发展，使得云计算中跨地域的资源共享与服务提供成为可能


## 6. Web技术的发展
- Web技术的出现和发展深刻地影响了用户使用互联网的方式
- 现在人们越来越习惯从互联网上获得所需的应用和服务，同时将自己的数据在网络上共享与保存
- 而以往，这些都是用户在个人电脑上完成的工作
- 个人电脑渐渐不再是为用户提供应用、保存用户数据的中心，它蜕变成为接入互联网的终端设备
- Web技术提供了云计算的接入模式，也为云计算培养了用户习惯


## 云计算概论 | 提纲目录
- 云计算概念
- 云计算产生的原动力
- 基础设施层
- 平台层
- 应用层
- 小结


# 三、基础设施层
## 1. 基础设施层的基本功能
- 基础设施层使经过虚拟化后的计算资源、存储资源和网络资源能够以基础设施即服务的方式通过网络被用户使用和管理


### （1）资源抽象
- 为了能够实现高层次的资源管理逻辑，必须对资源进行抽象，也就是对硬件资源进行虚拟化
- 虚拟化的过程一方面需要屏蔽掉硬件产品上的差异，另一方面需要对每一种硬件资源提供统一的管理逻辑和接口（标准化）
- 如何对不同品牌和型号的物理资源进行抽象，实现资源功能和管理的标准化，是基础设施层必须解决的一个核心问题


### （2）资源监控
- 资源监控是保证基础设施层高效率工作的一个关键任务
- 资源监控是负载管理的前提，如果不能有效地对资源进行监控，也就无法进行负载管理
- 基础设施层对不同类型的资源监控方法是不同的
- 对于CPU，通常监控的是CPU的使用率；对于内存和存储，除了监控使用率，还会根据需要监控读写操作；对于网络，则需要对网络实时的输入、输出及路由状态进行监控
- 基础设施层首先需要根据资源的抽象模型建立一个资源监控模型，用来描述资源监控的内容及其属性
- 资源监控还具有不同的粒度和抽象层次，比如对一个解决方案进行监控
- 通过对监控结果进行分析，可以直观了解资源的使用情况及其对性能的影响，从而采取必要的措施对解决方案进行调整


### （3）负载管理
- 负载过低，浪费；负载过高，上层服务性能受影响
- 需要基础设施层具备自动化的负载均衡功能
- vMotion等


### （4）数据管理
- 虚拟服务器、虚拟网络以及其上的应用等均以数据的形式存在，因此数据管理至关重要
- 数据的确定性、完整性、可靠性以及可管理性是对基础设施层数据管理的基本要求
- 确定性是指数据在任何时间的状态都是确定的
- 完整性是指在传输、存储的过程中确保数据不被未授权的用户进行修改、增加和删除
- 可靠性要求将数据的损坏和丢失的几率降到最低，这通常需要对数据进行冗余备份
- 可管理性要求数据能够被管理员及上层服务提供者以一种粗粒度和逻辑简单的方式管理


### （5）资源部署
- 资源部署指的是通过自动化部署流程将资源交付给上层应用的过程
- 动态部署是指在应用运行过程中进行部署，能实现基础设施层的动态可伸缩性，云的应用可以在极短时间内根据具体用户需求和服务状况的变化而调整
- 当用户服务的工作负载过高时，用户可以非常容易地将自己的服务实例从数个扩展到数千个，并自动获得所需要的资源
- 保证高可用，当一台机器硬件发生故障时，基础设施层可在另外一个节点上建立起相同的环境，从而保证服务从故障中快速恢复

（图示：左侧场景：云监控监测到“1、CPU平均值<30%”，对应操作“2、减少2台ECS实例”，下方显示ECS实例列表及流量“↑0 K/s”；右侧场景：云监控监测到“1、CPU平均值>80%”，对应操作“2、增加2台ECS实例”，下方显示ECS实例列表及流量“13 K/s”）


### （6）安全管理
- 安全管理的目标是保证基础设施资源被合法地访问和使用
- 数据中心安全措施，如数据中心防火墙等
- 云计算需要能够提供可靠的安全防护机制来保证云中的数据是安全的，东西向流量问题，EDR，NSX构建云内部的防火墙


### （7）计费管理
- 云计算倡导按量计费的计费模式，通过监控上层的使用情况，可以计算出某个时间段内应用所消耗的计算、存储、网络等资源，并根据这些计算结果向用户收费

（表格：计费维度、计费类型、付费方式 → 付费方式：预付费、后付费；时间：年、月、日、小时、分钟、秒；资源用量：CPU核数、磁盘大小、带宽大小等；其他：特殊或定制属性）


## 2. 基础设施层服务示例
- 在构建基础设施层之前，数据中心的服务器、存储、网络等设备都已准备就绪，完成基础设施层的构建以后，数据中心的硬件设备被整合为虚拟的资源池。管理模块实现了基础设施层的基础功能，这些功能以基础设施即服务的方式提供给用户，用户可以通过这些服务在更高的层次使用基础设施资源

（图示：基础设施层服务架构 → 上层：镜像管理、系统管理、用户管理、系统监控、账户计费；中间层：虚拟化的基础设施层（包含虚拟化集成管理器，及资源部署、数据管理、资源监控、负载管理、安全管理、白盒管理、黑盒管理）；下层：虚拟解决方案A、虚拟解决方案B（均通过“代理”连接），及虚拟机（多个）、虚拟化平台（多个）、虚拟化的服务器、存储、网络等IT基础设施资源）


## 云计算概论 | 提纲目录
- 云计算概念
- 云计算产生的原动力
- 平台层
- 应用层
- 小结


# 四、平台层
## 1. 平台层的基本功能
- 平台层负责为用户的应用提供开发测试、运行和运营环境
- 云计算的出现可以加速产品、服务和解决方案的交付速度（持续交付，CI/CD）
- 使用平台层的用户通常是独立软件提供商（Independent Software Vonder, ISV）


### （1）开发测试环境
- 一个完备的应用模型包括开发应用的编程语言、应用的元数据模型，以及应用的打包发布格式
- 尽可能使用流行的编程语言进行开发
- 元数据是描述应用的结构化数据，元数据在应用层与平台层之间起着重要的接口作用
- 平台层在部署应用的时候需要根据应用的元数据对其进行配置
- 应用运行时会根据元数据中的记录为应用绑定平台层服务
- 打包发布格式是指应用的源代码、可执行文件、各种资源文件以何种方式组织，整合成一个文件包，以发布到平台层
- 代码库（SDK）是平台层为在其上开发应用而提供的统一服务
- 平台层所提供的代码库和其API对于应用的开发至关重要
- 平台层的代码库可以使用其他云提供商的第三方服务，对用户是透明的

（图示：平台代码库架构 → 平台代码库包含“服务A的API”“服务B的API”“服务C的API”；下方连接“云平台”，云平台包含“服务A”“服务B”“服务C”；右侧“运行在云平台之外的通用应用服务”通过“集成”连接到云平台的服务）

- 开发测试环境
  - 一种方式是通过网络向软件开发者提供一个在线的应用开发和测试环境
  - 另一种方式是提供离线的集成开发环境，为开发人员提供与真实运行环境非常类似的本地测试环境，支持开发人员在本地进行开发与调试
  - 开发环境、预交付环境、运行环境


### （2）运行环境
- 云应用的部署：
  - 打包的应用提交至云平台
  - 平台层解析元数据、配置，绑定依赖的平台服务
  - 应用激活进入运行状态
- 出于高性能、安全性的考虑，平台层必须具备三个重要的特征：
  - 隔离性：
    - 应用间隔离：应用都运行在一个个隔离的工作区内，平台层提供访问控制功能
    - 用户间隔离：同一解决方案不同用户之间的隔离，多租户技术
  - 可伸缩性：平台分给应用的计算、存储、网络资源能够根据工作负载或业务规模的变化而变化
    - 工作负载或业务规模变高，分配资源增多
    - 工作负载或业务规模降低，分配资源减少
  - 资源的可复用性：资源可在多个应用中重复利用
    - 为了能满足应用的扩展性
    - 通过资源复用，仿佛平台拥有的资源是无限的


### （3）运营环境
- 应用更新：
  - 制作升级补丁
  - 上传升级补丁、提交升级请示
  - 平台层解析升级补丁并执行自动化的升级过程
  - 注意两个问题：
    - 对应用可用性的影响
    - 升级失败时如何恢复
- 平台层监控	
  - 对于应用运行状态的监控：响应时间、吞吐量和工作负载等实时信息
  - 对于资源消耗的监控：通过调用基础设施层服务来查询应用的资源消耗状态
- 应用的卸载删除		
  - 删除应用程序
  - 处理业务数据
    - 直接删除
    - 备份后删除
- 统计计费功能		
  - 对独立软件提供商（ISV）收费
  - 协助ISV对用户收费


## 2. 平台层服务示例
- 平台层采用了多租户的系统架构，包括了运行、运营和开发三个环境及这些环境所提供的一系列平台层服务。

（图示：平台层服务示例图）


## 云计算概论 | 提纲目录
- 云计算概念
- 云计算产生的原动力
- 基础设施层
- 应用层
- 小结


# 五、应用层
- 应用层是运行在云平台层上的应用的集合
- 每一个应用都对应一个业务需求，实现一组特定的业务逻辑，并且通过与用户交互提供服务
- 应用层的基本功能就是要为用户提供尽可能丰富的创新功能，为企业和机构用户简化IT流程，为个人用户简化日常生活的方方面面


## 1. 应用层的特征
- 根据SaaS的定义，云计算应用层上的应用需要具有以下三个基本特征：
  - 这些应用能够通过浏览器访问，或者具有开放的API，允许用户或者瘦客户端的调用，云应用的理想模式是不论用户身处何处，无论使用何种终端，只要有互联网连接和标准的浏览器，便可以不经任何配置地访问属于自己的应用
  - 用户在使用云服务时，不需要进行一次性投入，只需要在使用的过程中按照其实际的使用情况付费
  - 云应用要求高度的整合，而且云应用之间的融合能力对于云应用的成功至关重要，由于应用都是运行在云中而且彼此相对独立，因此云应用整合较传统应用会相对容易实现


## 2. 应用层的分类
- 常用的云应用可以分为三类：
  - 标准应用，采用多租户技术为数量众多的用户提供相互隔离的操作空间，提供的服务是标准的、一致的
    - 用户除了界面上的个性化设定外，不具有更深入的自定义功能，标准应用就是我们常用的应用软件的云上版本
    - 多租户架构分离了应用的逻辑和数据，企业用户可以通过元数据定义自己的行为和属性，并且定制化以后的应用程序不会影响其他企业用户
    - 标准应用的一个重要特点是代码运行在平台层上，而不是用户本地的机器上，很多以前在本地运行的复杂应用将陆续被迁移到云中，并且由用户通过浏览器来执行，这就需要在网页中提供与本地窗口应用一样丰富的功能集合，并且在服务质量（比如响应速度）上和本地窗口应用差别不大

  - 客户应用，这类应用开发好标准的功能模块，允许用户进行不限于界面的深度定制，与标准应用是面向最终用户的立即可用的软件不同，客户应用一般针对的是企业级用户，需要用户进行相对更加复杂的自定义和二次开发，如ERP

  - 多元应用，这类云应用一般由独立软件开发商或者是开发团队在公有云平台上搭建，是满足用户某一类特定需求的创新型应用，不同于标准应用所提供的能够满足大多数用户日常普遍需求的服务，多元应用满足了特定用户的多元化需求

（图示：云应用的长尾模型图）


## 3. 多租户技术
- 定义：多租户技术是一项云计算平台技术，该技术使得大量的用户能够共享同一堆栈的软、硬件资源，每个用户都能按需使用资源，能够对软件服务进行客户化配置，而不影响其他用户的使用

（图示：单租户与多租户对比 → 左侧“Single-Tenant”：SaaS application连接App，App连接DB；右侧“Multi-Tenant”：SaaS application连接Load Balancer，Load Balancer连接多个Docker，Docker连接DB，DB对应Org1、Org2、Org3）

- 多租户技术的技术难点有：数据隔离、客户化配置、架构扩展和性能定制
  - 数据隔离指租户的业务数据是相互隔离存储的，租户之间互不干扰
  - 客户化配置是指SaaS应用能够支持不同租户对SaaS应用的配置进行定制
  - 架构扩展是指多租户服务能够提供灵活、具备高伸缩性的基础架构
  - 性能定制是指对同一个SaaS应用实例来说，不同的用户对性能的要求可能是不同的

- 多租户数据隔离模式：
  1. 独立数据库实例
  2. 共享数据库实例但独立数据架构
  3. 共享数据库实例且共享数据架构


### （1）独立数据库实例
（图示：独立数据库实例架构 → 前端应用连接后端服务（多个），每个后端服务对应一个租户（租户A、租户B、租户X），每个租户单独连接一个数据库）

- 独立数据库实例模式的特点：
  - 一个租户一个数据库实例，隔离级别最高
  - 运营、管理开销成本大
  - 计费逻辑简单


### （2）共享数据库实例独立数据架构
（图示：共享数据库实例独立数据架构 → 前端应用连接后端服务（多个），每个后端服务对应一个租户（租户A、租户B、租户X），所有后端服务共同连接一个DataBase，DataBase内包含Schema A、Schema B、Schema X（分别对应三个租户））

- 共享数据库实例独立数据架构模式的特点：
  - 共享数据库，每个租户会拥有一个独立的schema形成逻辑上的隔离，但在同一个实例上
  - 成本低，隔离性较好
  - 当一个租户占用资源过多，会影响其他租户
  - 租户共享资源，计费较困难


### （3）共享数据库实例共享数据架构
（图示：共享数据库实例共享数据架构图）

- 共享数据库实例共享数据架构模式的特点：
  - 多个租户或者所有租户共享数据库实例，只不过在每张表上都加上租户标识字段用以区分
  - 资源成本低
  - 隔离性差，容易造成租户的数据混乱
  - 随着租户数据量增加，单表的性能一定会下降


## 云架构 | 提纲目录
- 云计算概念
- 云计算产生的原动力
- 基础设施层
- 平台层
- 应用层
- 小结
